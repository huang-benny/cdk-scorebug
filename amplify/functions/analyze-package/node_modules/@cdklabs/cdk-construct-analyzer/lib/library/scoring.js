"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.categorizeHigherIsBetter = categorizeHigherIsBetter;
exports.categorizeLowerIsBetter = categorizeLowerIsBetter;
exports.categorizeByChecklist = categorizeByChecklist;
/**
 * Categorizes a numeric value into quality levels (1-5) where higher values are better
 * @param thresholds Array of 4 numbers [excellent, great, good, fair] in descending order
 * @param value The value to categorize
 * @returns Quality level from 1 (poor) to 5 (excellent), or undefined if value is undefined
 */
function categorizeHigherIsBetter(thresholds, value) {
    if (value == undefined)
        return undefined;
    const [five, four, three, two] = thresholds;
    if (value >= five)
        return 5;
    if (value >= four)
        return 4;
    if (value >= three)
        return 3;
    if (value >= two)
        return 2;
    return 1; // default
}
/**
 * Categorizes a numeric value into quality levels (1-5) where lower values are better
 * @param thresholds Array of 4 numbers [excellent, great, good, fair] in ascending order
 * @param value The value to categorize
 * @returns Quality level from 1 (poor) to 5 (excellent)
 */
function categorizeLowerIsBetter(thresholds, value) {
    const [five, four, three, two] = thresholds;
    if (value <= five)
        return 5;
    if (value <= four)
        return 4;
    if (value <= three)
        return 3;
    if (value <= two)
        return 2;
    return 1; // default
}
/**
 * Categorizes based on a weighted checklist score
 * @param checklist Object with items and their weights
 * @param startingScore Optional starting score (default: 0)
 * @returns Quality level from 1 (poor) to 5 (excellent)
 */
function categorizeByChecklist(checklist, startingScore = 1) {
    const totalScore = Object.values(checklist).reduce((sum, item) => {
        return sum + (item.present ? item.value : 0);
    }, startingScore);
    return Math.max(1, Math.min(totalScore, 5)); // min 1, max 5
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcmluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWJyYXJ5L3Njb3JpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFRQSw0REFVQztBQVFELDBEQVFDO0FBUUQsc0RBU0M7QUFqREQ7Ozs7O0dBS0c7QUFDSCxTQUFnQix3QkFBd0IsQ0FBQyxVQUE0QyxFQUFFLEtBQXlCO0lBQzlHLElBQUksS0FBSyxJQUFJLFNBQVM7UUFBRSxPQUFPLFNBQVMsQ0FBQztJQUV6QyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBRTVDLElBQUksS0FBSyxJQUFJLElBQUk7UUFBRSxPQUFPLENBQUMsQ0FBQztJQUM1QixJQUFJLEtBQUssSUFBSSxJQUFJO1FBQUUsT0FBTyxDQUFDLENBQUM7SUFDNUIsSUFBSSxLQUFLLElBQUksS0FBSztRQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzdCLElBQUksS0FBSyxJQUFJLEdBQUc7UUFBRSxPQUFPLENBQUMsQ0FBQztJQUMzQixPQUFPLENBQUMsQ0FBQyxDQUFDLFVBQVU7QUFDdEIsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBZ0IsdUJBQXVCLENBQUMsVUFBNEMsRUFBRSxLQUFhO0lBQ2pHLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUM7SUFFNUMsSUFBSSxLQUFLLElBQUksSUFBSTtRQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzVCLElBQUksS0FBSyxJQUFJLElBQUk7UUFBRSxPQUFPLENBQUMsQ0FBQztJQUM1QixJQUFJLEtBQUssSUFBSSxLQUFLO1FBQUUsT0FBTyxDQUFDLENBQUM7SUFDN0IsSUFBSSxLQUFLLElBQUksR0FBRztRQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzNCLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFBVTtBQUN0QixDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQixxQkFBcUIsQ0FDbkMsU0FBWSxFQUNaLGdCQUF3QixDQUFDO0lBRXpCLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFO1FBQy9ELE9BQU8sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBRWxCLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWU7QUFDOUQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoZWNrbGlzdEl0ZW0gfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBDYXRlZ29yaXplcyBhIG51bWVyaWMgdmFsdWUgaW50byBxdWFsaXR5IGxldmVscyAoMS01KSB3aGVyZSBoaWdoZXIgdmFsdWVzIGFyZSBiZXR0ZXJcbiAqIEBwYXJhbSB0aHJlc2hvbGRzIEFycmF5IG9mIDQgbnVtYmVycyBbZXhjZWxsZW50LCBncmVhdCwgZ29vZCwgZmFpcl0gaW4gZGVzY2VuZGluZyBvcmRlclxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjYXRlZ29yaXplXG4gKiBAcmV0dXJucyBRdWFsaXR5IGxldmVsIGZyb20gMSAocG9vcikgdG8gNSAoZXhjZWxsZW50KSwgb3IgdW5kZWZpbmVkIGlmIHZhbHVlIGlzIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2F0ZWdvcml6ZUhpZ2hlcklzQmV0dGVyKHRocmVzaG9sZHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLCB2YWx1ZTogbnVtYmVyIHwgdW5kZWZpbmVkKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgaWYgKHZhbHVlID09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBjb25zdCBbZml2ZSwgZm91ciwgdGhyZWUsIHR3b10gPSB0aHJlc2hvbGRzO1xuXG4gIGlmICh2YWx1ZSA+PSBmaXZlKSByZXR1cm4gNTtcbiAgaWYgKHZhbHVlID49IGZvdXIpIHJldHVybiA0O1xuICBpZiAodmFsdWUgPj0gdGhyZWUpIHJldHVybiAzO1xuICBpZiAodmFsdWUgPj0gdHdvKSByZXR1cm4gMjtcbiAgcmV0dXJuIDE7IC8vIGRlZmF1bHRcbn1cblxuLyoqXG4gKiBDYXRlZ29yaXplcyBhIG51bWVyaWMgdmFsdWUgaW50byBxdWFsaXR5IGxldmVscyAoMS01KSB3aGVyZSBsb3dlciB2YWx1ZXMgYXJlIGJldHRlclxuICogQHBhcmFtIHRocmVzaG9sZHMgQXJyYXkgb2YgNCBudW1iZXJzIFtleGNlbGxlbnQsIGdyZWF0LCBnb29kLCBmYWlyXSBpbiBhc2NlbmRpbmcgb3JkZXJcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2F0ZWdvcml6ZVxuICogQHJldHVybnMgUXVhbGl0eSBsZXZlbCBmcm9tIDEgKHBvb3IpIHRvIDUgKGV4Y2VsbGVudClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhdGVnb3JpemVMb3dlcklzQmV0dGVyKHRocmVzaG9sZHM6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdLCB2YWx1ZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3QgW2ZpdmUsIGZvdXIsIHRocmVlLCB0d29dID0gdGhyZXNob2xkcztcblxuICBpZiAodmFsdWUgPD0gZml2ZSkgcmV0dXJuIDU7XG4gIGlmICh2YWx1ZSA8PSBmb3VyKSByZXR1cm4gNDtcbiAgaWYgKHZhbHVlIDw9IHRocmVlKSByZXR1cm4gMztcbiAgaWYgKHZhbHVlIDw9IHR3bykgcmV0dXJuIDI7XG4gIHJldHVybiAxOyAvLyBkZWZhdWx0XG59XG5cbi8qKlxuICogQ2F0ZWdvcml6ZXMgYmFzZWQgb24gYSB3ZWlnaHRlZCBjaGVja2xpc3Qgc2NvcmVcbiAqIEBwYXJhbSBjaGVja2xpc3QgT2JqZWN0IHdpdGggaXRlbXMgYW5kIHRoZWlyIHdlaWdodHNcbiAqIEBwYXJhbSBzdGFydGluZ1Njb3JlIE9wdGlvbmFsIHN0YXJ0aW5nIHNjb3JlIChkZWZhdWx0OiAwKVxuICogQHJldHVybnMgUXVhbGl0eSBsZXZlbCBmcm9tIDEgKHBvb3IpIHRvIDUgKGV4Y2VsbGVudClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhdGVnb3JpemVCeUNoZWNrbGlzdDxUIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgQ2hlY2tsaXN0SXRlbT4+KFxuICBjaGVja2xpc3Q6IFQsXG4gIHN0YXJ0aW5nU2NvcmU6IG51bWJlciA9IDEsXG4pOiBudW1iZXIge1xuICBjb25zdCB0b3RhbFNjb3JlID0gT2JqZWN0LnZhbHVlcyhjaGVja2xpc3QpLnJlZHVjZSgoc3VtLCBpdGVtKSA9PiB7XG4gICAgcmV0dXJuIHN1bSArIChpdGVtLnByZXNlbnQgPyBpdGVtLnZhbHVlIDogMCk7XG4gIH0sIHN0YXJ0aW5nU2NvcmUpO1xuXG4gIHJldHVybiBNYXRoLm1heCgxLCBNYXRoLm1pbih0b3RhbFNjb3JlLCA1KSk7IC8vIG1pbiAxLCBtYXggNVxufSJdfQ==