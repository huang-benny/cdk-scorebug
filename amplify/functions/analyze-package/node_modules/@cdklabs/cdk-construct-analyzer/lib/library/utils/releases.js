"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calculateReleaseFrequency = calculateReleaseFrequency;
/**
 * Calculate the number of releases in the past year
 */
function calculateReleaseFrequency(releases) {
    if (!releases || releases.length === 0) {
        return 0;
    }
    const oneYearAgo = new Date();
    oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);
    const releasesInPastYear = releases.filter(release => {
        if (!release.publishedAt) {
            return false;
        }
        const publishedDate = new Date(release.publishedAt);
        return publishedDate >= oneYearAgo;
    });
    return releasesInPastYear.length;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVsZWFzZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGlicmFyeS91dGlscy9yZWxlYXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLDhEQWtCQztBQXJCRDs7R0FFRztBQUNILFNBQWdCLHlCQUF5QixDQUFDLFFBQTBCO0lBQ2xFLElBQUksQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUN2QyxPQUFPLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxNQUFNLFVBQVUsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQzlCLFVBQVUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXJELE1BQU0sa0JBQWtCLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3pCLE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztRQUVELE1BQU0sYUFBYSxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRCxPQUFPLGFBQWEsSUFBSSxVQUFVLENBQUM7SUFDckMsQ0FBQyxDQUFDLENBQUM7SUFFSCxPQUFPLGtCQUFrQixDQUFDLE1BQU0sQ0FBQztBQUNuQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHaXRIdWJSZWxlYXNlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHJlbGVhc2VzIGluIHRoZSBwYXN0IHllYXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVJlbGVhc2VGcmVxdWVuY3kocmVsZWFzZXM/OiBHaXRIdWJSZWxlYXNlW10pOiBudW1iZXIge1xuICBpZiAoIXJlbGVhc2VzIHx8IHJlbGVhc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgY29uc3Qgb25lWWVhckFnbyA9IG5ldyBEYXRlKCk7XG4gIG9uZVllYXJBZ28uc2V0RnVsbFllYXIob25lWWVhckFnby5nZXRGdWxsWWVhcigpIC0gMSk7XG5cbiAgY29uc3QgcmVsZWFzZXNJblBhc3RZZWFyID0gcmVsZWFzZXMuZmlsdGVyKHJlbGVhc2UgPT4ge1xuICAgIGlmICghcmVsZWFzZS5wdWJsaXNoZWRBdCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHB1Ymxpc2hlZERhdGUgPSBuZXcgRGF0ZShyZWxlYXNlLnB1Ymxpc2hlZEF0KTtcbiAgICByZXR1cm4gcHVibGlzaGVkRGF0ZSA+PSBvbmVZZWFyQWdvO1xuICB9KTtcblxuICByZXR1cm4gcmVsZWFzZXNJblBhc3RZZWFyLmxlbmd0aDtcbn0iXX0=